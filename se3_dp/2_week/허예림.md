문제 설명

소설의 각 장이 따로 파일로 저장되어 있고, 이 파일을 하나의 완성된 파일로 합쳐야 함. 이때 두개의 파일을 합칠때 드는 비용이 두 파일 크기의 합이라고 할 떄 모든 파일을 하나로 합칠때 드는 최소 비용을 구하는 것 

- dp[i][j] : i - j 파일까지를 하나로 합칠떄 드는 최소 비용
- opt[i][j] : dp가 최소가 되는 분할 지점

```python
import sys
input = sys.stdin.readline

t = int(input().strip())

for _ in range(t):
    k = int(input().strip())
    files = list(map(int, input().split()))

    prefix = [0] * (k + 1)
    for i in range(1, k + 1):
        prefix[i] = prefix[i - 1] + files[i - 1]

    dp = [[0] * (k + 1) for _ in range(k + 1)]
    opt = [[0] * (k + 1) for _ in range(k + 1)]
    for i in range(1, k + 1):
        opt[i][i] = i

    for length in range(2, k + 1):
        for i in range(1, k - length + 2):
            j = i + length - 1

            left = opt[i][j - 1] if j - 1 >= i else i
            right = opt[i + 1][j] if i + 1 <= j else j
            if left < i:
                left = i
            if right > j - 1:
                right = j - 1

            min_cost = 10**18
            best_k = left
            total = prefix[j] - prefix[i - 1]

            for mid in range(left, right + 1):
                result = dp[i][mid] + dp[mid + 1][j] + total
                if result < min_cost:
                    min_cost = result
                    best_k = mid

            dp[i][j] = min_cost
            opt[i][j] = best_k

    print(dp[1][k])

```
