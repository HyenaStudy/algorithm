## 파일 합치기
### 문제 링크
https://www.acmicpc.net/problem/11066
### 정답 코드
```python
import sys

T = int(input())
answers = []

for _ in range(T):
    K = int(input())
    files = list(map(int, input().split()))
    memo = [[[sys.maxsize, 0] for _ in range(K)] for _ in range(K)] # 최소비용, 분할 플래그

    for i in range(K):
        memo[i][i][0] = 0
        memo[i][i][1] = i
    for i in range(K-1):
        memo[i][i+1][0] = files[i] + files[i+1]
        memo[i][i+1][1] = i

    temp = [0] * (K+1) # 구간합
    for i in range(K):
        temp[i+1] = temp[i] + files[i]

    for length in range(2, K): # 간격(2부터 K-1까지)
        for i in range(K-length):
            j = i + length
            opt_i = memo[i][j-1][1]
            opt_j = memo[i+1][j][1]

            # 구간 단위로 최소 합침 비용 갱신하기
            for k in range(opt_i, opt_j + 1):
                value = memo[i][k][0] + memo[k+1][j][0] + temp[j+1] - temp[i]
                if value < memo[i][j][0]:
                    memo[i][j][0] = value # 최소 합산비용 갱신
                    memo[i][j][1] = k # 분할 플래그 갱신

    answers.append(memo[0][K-1][0])

print(*answers, sep="\n")
```
- 풀이 주석이 너무 지저분해서 가독성을 위해 임의로 지웠습니다
- 풀이 주석은 [여기](https://github.com/kimD0ngjun/backjoon_programmers/blob/main/%EB%B0%B1%EC%A4%80/Gold/11066.%E2%80%85%ED%8C%8C%EC%9D%BC%E2%80%85%ED%95%A9%EC%B9%98%EA%B8%B0/%ED%8C%8C%EC%9D%BC%E2%80%85%ED%95%A9%EC%B9%98%EA%B8%B0.py)에서 확인해주세요
### 풀이 아이디어
- 메모이제이션을 이중 리스트로 둬서 구간별 총 최소합산비용으로 두고 반복문으로 갱신하는 구조로 처음 풀이했음
- 첫 번째 풀이는 파이썬은 시간 초과, PyPy는 통과 처리돼서 개선점을 고민해보는 게 요번주 스터디 과제라고 생각
- **초기 풀이에서 흐름상 트리처럼 합산되는 것 같은데 노드만 기억시키는 듯해서, 간선도 기억시키자는 생각으로 접근**
- 합치는 과정 속에서 이미 합쳐진 파일과 새롭게 편입한 파일은 무조건 연속 배치일 수밖에 없고, 특정 구간의 최소 합산비용에 해당하는 분할 인덱스가 다음 반복문 분기에서 잡힌 구간의 분할 인덱스를 넘어서면, 이미 연산된 이전 분기의 최소합산비용을 포기하고 다음 단계로 넘어가는 구조임을 어렴풋이 파악
- 해당 문제가 [기존 코드](https://github.com/kimD0ngjun/backjoon_programmers/blob/52ed8f7b38b7f6cc6769714e07c6a727cef67b08/%EB%B0%B1%EC%A4%80/Gold/11066.%E2%80%85%ED%8C%8C%EC%9D%BC%E2%80%85%ED%95%A9%EC%B9%98%EA%B8%B0/%ED%8C%8C%EC%9D%BC%E2%80%85%ED%95%A9%EC%B9%98%EA%B8%B0.py)의 가장 내부 반복문에서 이뤄지고 있었음
- 그래서 최적 탐색범위를 위한 부분구간별 합산 분할 플래그도 메모이제이션 리스트에 포함시키고, 내부 반복문에서 전체 탐색이 아닌, 기존 부분구간의 분할 플래그 간 범위로 탐색범위 최적화하면서 파이썬도 통과 성공
- 사실 알고 풀었다기보단 느낌이랑 직관으로 접근했는데 운 좋게 걸린 케이스라서... gpt한테 물어보니 사각부등식의 단조성 성질이라는데 뭔진 저도 잘 모르겠네요... 
