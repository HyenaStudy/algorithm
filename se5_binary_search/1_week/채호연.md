# 이분 탐색 문제 풀이(1) : 파라메트릭 서치를 중심으로

> [!NOTE]
> 이분탐색은 알고리즘 학습 중 상대적으로 빠른 시기에 접하게 됩니다.
>
> 처음엔 아이디어 자체가 우리의 일상 구석구석에서 찾아볼 수 있는 종류의 것이었다는 점, 그럼에도 상당히 강력한 효율성을 제공하는 알고리즘이라는 점에서 좋았습니다.
>
> 근데 좀 만만하게 봤던 것도 있습니다.
>
> 최초에 구현할 때는 Off-By-One 에러를 만나기도 하지만, 손에 익으면 그것도 잠시입니다.
>
> 이분 탐색을 활용해 '최적화 문제'를 '결정 문제'로 바꾸어 푸는 기법을 처음 접했을 때도 상당히 놀랐지만 이내 사그라들었습니다.
>
> 곧 '이제 이분 탐색은 내 것이다!' 라는 생각이 들기도 했습니다.
>
> 하지만...
>
> 최근 코테를 경험하며 있죠 여러분, 진짜 별의 별 문제가 다 이분 탐색인 경우가 있더라구요...
>
> 다음의 세 가지만 꼬아줘도 저는 이분 탐색 문제인질 알아볼 수 없게 되는 것입니다...
> - 1) 문제를 노골적인 선형 구조로 내지 않는다.
> - 2) Bruteforce 방식으로 풀 수도 있지만, 사실 이분 탐색으로 최적화가 가능하도록 만들어둔 문제. 하지 않으면 히든 테케에서 TLE 를 내버리는 문제
> - 3) 입력값으로 힌트 주지 않는 경우(물론 이건 제가 평소에 백준의 중간 난이도 정도를 풀다보니, 코테 문제도 입력 범위로 힌트를 줄거라고 나이브하게 생각해서 인 것도 맞습니다만,,)
>  
> 아무튼, 문서 말미에 여러분들도 도전해볼 수 있는 챌린지를 가져와봤습니다.
>
> 저는 셋 다 30분 내에 설계하는 거 실패했습니다.
>
> 시작 해볼게요!


## 1. 공유기 설치(G5)
<img width="1321" height="319" alt="Screenshot 2025-10-19 at 10 01 55 PM" src="https://github.com/user-attachments/assets/354645f8-ea40-4119-be0d-61e710f0f1de" />

### 문제 링크 : [링크](https://www.acmicpc.net/problem/2110)

### 풀이
```java
import java.io.IOException;
import java.io.InputStreamReader;
import java.io.BufferedReader;
import java.util.StringTokenizer;
import java.util.Arrays;

public class Main {
    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());
        
        int N = Integer.parseInt(st.nextToken()); // 집의 수
        int C = Integer.parseInt(st.nextToken()); // 공유기 수
        int[] houses = new int[N];
        
        for(int house = 0; house < N; house++){
            houses[house] = Integer.parseInt(br.readLine());
        }
        
        // 정렬 : O(n log n)
        Arrays.sort(houses);
        
        // Parametric Search : '인접한 두 공유기 간 거리가 K 일때, C 개의 공유기를 놓을 수 있는가?'
        int maxDist = parametricSearchForMaxDist(houses, C);
        
        // 정답 출력.
        System.out.print(maxDist);
    }
    
    private static int parametricSearchForMaxDist(int[] houses, int C){
        // Binary Search 방식으로 K 설정 후, 이를 인자로 결정문제 호출하기.
        // 결정문제의 결과가 T/F 이므로, T/F 경계를 찾아야 한다.
        // K의 탐색 범위는 T/F 가 분명하게 나뉘어야 하므로 (1, (가장 먼 집 좌표 - 가장 가까운 집 좌표))로 한다.
        int low = 1;
        int high = houses[houses.length - 1] - houses[0]; // 최대 10억.
        int maxDist = -Integer.MAX_VALUE;
        
        while(low <= high){
            int mid = (high + low) / 2;
            
            if(isPossibleWithDist(houses, mid, C)){
                maxDist = Math.max(maxDist, mid);
                low = mid + 1;
            }
            else {
                high = mid - 1;
            }
        }
        
        return maxDist;
    }
    
    private static boolean isPossibleWithDist(int[] houses, int maxDistBetweenTwoRouters, int numberOfRouters){
        // houses[0] 부터 최소 maxDistBetweenTwoRouters 거리 만큼의 간격을 두고 공유기 배치.
        // houses[0] 에는 놓았다고 가정.
        int cnt = numberOfRouters - 1;
        int houseLocator = 1;
        int prevRouterLocation = houses[0];
        
        while(cnt > 0 && houseLocator < houses.length){
            int currentHouseLocation = houses[houseLocator];
            int currentDistBetweenRouter = currentHouseLocation - prevRouterLocation;
            
            // Case I : maxDistBetweenTwoRouters 규칙 준수 가능한 집이라면? -> 배치
            if(currentDistBetweenRouter >= maxDistBetweenTwoRouters){
                prevRouterLocation = currentHouseLocation;
                cnt--;
            }
            
            houseLocator++;
        }
        
        return cnt == 0;
    }
}
```

## 2. 챌린지 문제
1. [중량 제한](https://www.acmicpc.net/problem/1939)
2. [반도체 설계](https://www.acmicpc.net/problem/2352)
3. [저울](https://www.acmicpc.net/problem/2437)

위의 세 가지 문제 중 한 가지는 이분탐색을 활용해야만 풀리고, 다른 한 가지는 이분 탐색 문제가 아니며, 남은 하나는 다른 방식으로 해결 가능하지만 이분 탐색을 통해 최적화가 가능한 문제입니다.

같이 한 번 도전해봐요!
